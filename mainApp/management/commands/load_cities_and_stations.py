from django.core.management.base import BaseCommand
from mainApp.models import City, Station

class Command(BaseCommand):
    help = '–ó–∞–≤–∞–Ω—Ç–∞–∂—É—î —Å–ø–∏—Å–æ–∫ –º—ñ—Å—Ç —Ç–∞ –∑—É–ø–∏–Ω–æ–∫ –¥–æ –∫–æ–∂–Ω–æ–≥–æ –º—ñ—Å—Ç–∞'

    def handle(self, *args, **kwargs):
        data = {
            '–ö–∏—ó–≤': ['–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π –∞–≤—Ç–æ–≤–æ–∫–∑–∞–ª', '–ñ–î –í–æ–∫–∑–∞–ª', '–ê–≤—Ç–æ—Å—Ç–∞–Ω—Ü—ñ—è –ü—ñ–≤–¥–µ–Ω–Ω–∞'],
            '–õ—å–≤—ñ–≤': ['–õ—å–≤—ñ–≤—Å—å–∫–∏–π –∞–≤—Ç–æ–≤–æ–∫–∑–∞–ª', '–ü–ª–æ—â–∞ –î–≤—ñ—Ä—Ü–µ–≤–∞'],
            '–î–Ω—ñ–ø—Ä–æ': ['–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞ –∞–≤—Ç–æ—Å—Ç–∞–Ω—Ü—ñ—è', '–í–æ–∫–∑–∞–ª'],
            '–û–¥–µ—Å–∞': ['–ê–≤—Ç–æ–≤–æ–∫–∑–∞–ª –ü—Ä–∏–≤–æ–∑', '–ñ–î –í–æ–∫–∑–∞–ª'],
            '–•–∞—Ä–∫—ñ–≤': ['–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π –≤–æ–∫–∑–∞–ª', '–ê–≤—Ç–æ—Å—Ç–∞–Ω—Ü—ñ—è ‚Ññ2'],
            '–ú–∏–∫–æ–ª–∞—ó–≤': ['–ê–≤—Ç–æ–≤–æ–∫–∑–∞–ª', '–ñ–î –í–æ–∫–∑–∞–ª'],
            '–ü–æ–ª—Ç–∞–≤–∞': ['–ê–≤—Ç–æ—Å—Ç–∞–Ω—Ü—ñ—è –ö–∏—ó–≤—Å—å–∫–∞', '–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π –≤–æ–∫–∑–∞–ª'],
            '–ó–∞–ø–æ—Ä—ñ–∂–∂—è': ['–ê–≤—Ç–æ—Å—Ç–∞–Ω—Ü—ñ—è-1', '–ñ–î –í–æ–∫–∑–∞–ª –ó–∞–ø–æ—Ä—ñ–∂–∂—è-1'],
            '–•–µ—Ä—Å–æ–Ω': ['–ê–≤—Ç–æ—Å—Ç–∞–Ω—Ü—ñ—è –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞', '–ñ–î –í–æ–∫–∑–∞–ª'],
            '–ß–µ—Ä–∫–∞—Å–∏': ['–ê–≤—Ç–æ–≤–æ–∫–∑–∞–ª', '–ñ–î –í–æ–∫–∑–∞–ª'],
            '–ß–µ—Ä–Ω—ñ–≥—ñ–≤': ['–ê–≤—Ç–æ—Å—Ç–∞–Ω—Ü—ñ—è ‚Ññ1', '–ñ–î –í–æ–∫–∑–∞–ª'],
            '–°—É–º–∏': ['–ê–≤—Ç–æ—Å—Ç–∞–Ω—Ü—ñ—è –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞', '–ñ–î –í–æ–∫–∑–∞–ª'],
            '–ñ–∏—Ç–æ–º–∏—Ä': ['–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π –∞–≤—Ç–æ–≤–æ–∫–∑–∞–ª', '–ñ–î –í–æ–∫–∑–∞–ª'],
            '–†—ñ–≤–Ω–µ': ['–ê–≤—Ç–æ—Å—Ç–∞–Ω—Ü—ñ—è –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞'],
            '–Ü–≤–∞–Ω–æ-–§—Ä–∞–Ω–∫—ñ–≤—Å—å–∫': ['–ê–≤—Ç–æ—Å—Ç–∞–Ω—Ü—ñ—è ‚Ññ2', '–ñ–î –í–æ–∫–∑–∞–ª'],
            '–¢–µ—Ä–Ω–æ–ø—ñ–ª—å': ['–ê–≤—Ç–æ–≤–æ–∫–∑–∞–ª', '–ü–ª–æ—â–∞ –ü—Ä–∏–≤–æ–∫–∑–∞–ª—å–Ω–∞'],
            '–£–∂–≥–æ—Ä–æ–¥': ['–ê–≤—Ç–æ–≤–æ–∫–∑–∞–ª', '–ñ–î –í–æ–∫–∑–∞–ª'],
            '–ö—Ä–æ–ø–∏–≤–Ω–∏—Ü—å–∫–∏–π': ['–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π –∞–≤—Ç–æ–≤–æ–∫–∑–∞–ª'],
            '–õ—É—Ü—å–∫': ['–ê–≤—Ç–æ—Å—Ç–∞–Ω—Ü—ñ—è', '–í–æ–∫–∑–∞–ª'],
            '–ß–µ—Ä–Ω—ñ–≤—Ü—ñ': ['–ê–≤—Ç–æ–≤–æ–∫–∑–∞–ª –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π', '–í–æ–∫–∑–∞–ª'],
            '–î–æ–Ω–µ—Ü—å–∫': ['–ê–≤—Ç–æ–≤–æ–∫–∑–∞–ª "–Æ–∂–Ω—ã–π"'],
            '–õ—É–≥–∞–Ω—Å—å–∫': ['–ê–≤—Ç–æ—Å—Ç–∞–Ω—Ü—ñ—è –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞'],
            '–ö—Ä–∏–≤–∏–π –†—ñ–≥': ['–ñ–î –í–æ–∫–∑–∞–ª', '–ê–≤—Ç–æ—Å—Ç–∞–Ω—Ü—ñ—è –ü—ñ–≤–¥–µ–Ω–Ω–∞'],
            '–°—ñ–º—Ñ–µ—Ä–æ–ø–æ–ª—å': ['–ê–≤—Ç–æ–≤–æ–∫–∑–∞–ª', '–ñ–î –í–æ–∫–∑–∞–ª'],
            '–•–º–µ–ª—å–Ω–∏—Ü—å–∫–∏–π': ['–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π –∞–≤—Ç–æ–≤–æ–∫–∑–∞–ª'],
            '–í—ñ–Ω–Ω–∏—Ü—è': ['–ê–≤—Ç–æ–≤–æ–∫–∑–∞–ª "–ó–∞—Ö—ñ–¥–Ω–∏–π"', '–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π –∑–∞–ª—ñ–∑–Ω–∏—á–Ω–∏–π –≤–æ–∫–∑–∞–ª'],
        }

        total_created_cities = 0
        total_created_stations = 0

        for city_name, station_names in data.items():
            city, city_created = City.objects.get_or_create(name=city_name)
            if city_created:
                self.stdout.write(self.style.SUCCESS(f"üü¢ –°—Ç–≤–æ—Ä–µ–Ω–æ –º—ñ—Å—Ç–æ: {city_name}"))
                total_created_cities += 1
            else:
                self.stdout.write(self.style.WARNING(f"‚ö† –ú—ñ—Å—Ç–æ –≤–∂–µ —ñ—Å–Ω—É—î: {city_name}"))

            for station_name in station_names:
                station, created = Station.objects.get_or_create(name=station_name, city=city)
                if created:
                    self.stdout.write(self.style.SUCCESS(f"   ‚îî –ó—É–ø–∏–Ω–∫–∞: {station_name}"))
                    total_created_stations += 1

        self.stdout.write(self.style.SUCCESS(
            f"\nüéâ –ó–∞–≤–µ—Ä—à–µ–Ω–æ: —Å—Ç–≤–æ—Ä–µ–Ω–æ –º—ñ—Å—Ç: {total_created_cities}, –∑—É–ø–∏–Ω–æ–∫: {total_created_stations}"
        ))
